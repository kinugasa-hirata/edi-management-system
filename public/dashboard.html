<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDI Management System - Dashboard</title>
    
    <!-- External CSS -->
    <link rel="stylesheet" href="/css/dashboard-styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="user-info" id="userInfo">
                <span id="userDisplay">Loading...</span>
            </div>
            <h1>📊 EDI Management System</h1>
            <p>Electronic Data Interchange Order Management</p>
        </div>

        <!-- Navigation Bar -->
        <div class="navigation-bar" style="background: #f8fafc; padding: 15px 30px; border-bottom: 1px solid #e2e8f0; display: flex; align-items: center; gap: 20px;">
            <a href="/dashboard" class="nav-link active" style="color: #4f46e5; background: white; text-decoration: none; font-weight: 500; padding: 8px 16px; border-radius: 6px;">📊 Dashboard</a>
            <a href="/forecast" class="nav-link" style="color: #6b7280; text-decoration: none; font-weight: 500; padding: 8px 16px; border-radius: 6px; transition: all 0.3s ease;">📈 Forecast</a>
            <button class="btn btn-logout" style="margin-left: auto;">🚪 Logout</button>
        </div>

        <div class="controls">
            <input type="file" id="fileInput" accept=".csv,.tsv,.EDIdat" />
            <button class="btn btn-primary admin-only" id="chooseFileBtn">
                📁 Choose EDI File
            </button>
            <button class="btn btn-secondary admin-only" id="importBtn" disabled>
                📤 Import WebEDI Data
            </button>
            <button class="btn btn-success admin-only" id="saveAllBtn">
                💾 Save All Changes
            </button>
            <div class="read-only-notice" id="readOnlyNotice">
                👁️ View-Only Mode - Contact admin for edit access
            </div>
        </div>

        <div class="content">
            <div id="messageContainer"></div>
            <div class="loading" id="loadingIndicator">
                <div class="spinner"></div>
                Loading data...
            </div>

            <!-- Always Visible Tab Navigation -->
            <div class="tab-navigation" id="tabNavigation">
                <button class="tab-btn active">📊 All Orders</button>
                <button class="tab-btn" data-drawing="PP4166-4681P003">🔧 4681P003</button>
                <button class="tab-btn" data-drawing="PP4166-4681P004">🔧 4681P004</button>
                <button class="tab-btn" data-drawing="PP4166-4726P003">⚙️ 4726P003</button>
                <button class="tab-btn" data-drawing="PP4166-4726P004">⚙️ 4726P004</button>
                <button class="tab-btn" data-drawing="PP4166-4731P002">🔩 4731P002</button>
                <button class="tab-btn" data-drawing="PP4166-7106P001">🔩 7106P001</button>
                <button class="tab-btn" data-drawing="PP4166-7106P003">🔩 7106P003</button>
            </div>

            <!-- Main Dashboard Tab -->
            <div id="mainDashboard" class="tab-content active">
                <div class="data-header">
                    <h2>EDI Orders Data</h2>
                    <span class="record-count" id="recordCount">0 records</span>
                </div>

                <div id="dataContainer">
                    <div class="empty-state">
                        <div class="icon">📊</div>
                        <h3>No EDI Data Loaded</h3>
                        <p id="emptyStateMessage">Import an EDI file to get started.</p>
                        
                        <div class="steps" id="getStartedSteps">
                            <h4>Get started in 2 simple steps:</h4>
                            <div class="step">
                                <div class="step-number">1</div>
                                <span>Click "📁 Choose EDI File" to upload your data</span>
                            </div>
                            <div class="step">
                                <div class="step-number">2</div>
                                <span>Click "Import WebEDI Data" to load orders</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product Tabs Content -->
            <div id="tabContent">
                <!-- PP4166-4681P003 -->
                <div class="tab-content" id="tab-PP4166-4681P003">
                    <div class="product-header">
                        <h2>🔧 PP4166-4681P003</h2>
                        <p>ｱｯﾊﾟﾌﾞﾚｰﾑ</p>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="total-quantity-PP4166-4681P003">0</div>
                            <div class="stat-label">Total Quantity</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="total-orders-PP4166-4681P003">0</div>
                            <div class="stat-label">Future Orders</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="next-delivery-PP4166-4681P003">-</div>
                            <div class="stat-label">Next Delivery</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-title">📊 Delivery Schedule</div>
                        <div class="chart-wrapper" id="chart-PP4166-4681P003">
                            <div class="no-data-state">
                                <h3>📅 No Data Available</h3>
                                <p>Import EDI data to see delivery schedule for this product.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PP4166-4681P004 -->
                <div class="tab-content" id="tab-PP4166-4681P004">
                    <div class="product-header">
                        <h2>🔧 PP4166-4681P004</h2>
                        <p>ｱｯﾊﾟﾌﾞﾚｰﾑ</p>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="total-quantity-PP4166-4681P004">0</div>
                            <div class="stat-label">Total Quantity</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="total-orders-PP4166-4681P004">0</div>
                            <div class="stat-label">Future Orders</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="next-delivery-PP4166-4681P004">-</div>
                            <div class="stat-label">Next Delivery</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-title">📊 Delivery Schedule</div>
                        <div class="chart-wrapper" id="chart-PP4166-4681P004">
                            <div class="no-data-state">
                                <h3>📅 No Data Available</h3>
                                <p>Import EDI data to see delivery schedule for this product.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PP4166-4726P003 -->
                <div class="tab-content" id="tab-PP4166-4726P003">
                    <div class="product-header">
                        <h2>⚙️ PP4166-4726P003</h2>
                        <p>ﾄｯﾌﾟﾌﾟﾚｰﾄ</p>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="total-quantity-PP4166-4726P003">0</div>
                            <div class="stat-label">Total Quantity</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="total-orders-PP4166-4726P003">0</div>
                            <div class="stat-label">Future Orders</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="next-delivery-PP4166-4726P003">-</div>
                            <div class="stat-label">Next Delivery</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-title">📊 Delivery Schedule</div>
                        <div class="chart-wrapper" id="chart-PP4166-4726P003">
                            <div class="no-data-state">
                                <h3>📅 No Data Available</h3>
                                <p>Import EDI data to see delivery schedule for this product.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PP4166-4726P004 -->
                <div class="tab-content" id="tab-PP4166-4726P004">
                    <div class="product-header">
                        <h2>⚙️ PP4166-4726P004</h2>
                        <p>ﾄｯﾌﾟﾌﾟﾚｰﾄ</p>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="total-quantity-PP4166-4726P004">0</div>
                            <div class="stat-label">Total Quantity</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="total-orders-PP4166-4726P004">0</div>
                            <div class="stat-label">Future Orders</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="next-delivery-PP4166-4726P004">-</div>
                            <div class="stat-label">Next Delivery</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-title">📊 Delivery Schedule</div>
                        <div class="chart-wrapper" id="chart-PP4166-4726P004">
                            <div class="no-data-state">
                                <h3>📅 No Data Available</h3>
                                <p>Import EDI data to see delivery schedule for this product.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PP4166-4731P002 -->
                <div class="tab-content" id="tab-PP4166-4731P002">
                    <div class="product-header">
                        <h2>🔩 PP4166-4731P002</h2>
                        <p>ﾐﾄﾞﾙﾌﾚｰﾑ</p>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="total-quantity-PP4166-4731P002">0</div>
                            <div class="stat-label">Total Quantity</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="total-orders-PP4166-4731P002">0</div>
                            <div class="stat-label">Future Orders</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="next-delivery-PP4166-4731P002">-</div>
                            <div class="stat-label">Next Delivery</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-title">📊 Delivery Schedule</div>
                        <div class="chart-wrapper" id="chart-PP4166-4731P002">
                            <div class="no-data-state">
                                <h3>📅 No Data Available</h3>
                                <p>Import EDI data to see delivery schedule for this product.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PP4166-7106P001 -->
                <div class="tab-content" id="tab-PP4166-7106P001">
                    <div class="product-header">
                        <h2>🔩 PP4166-7106P001</h2>
                        <p>ﾐﾄﾞﾙﾌﾚｰﾑ</p>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="total-quantity-PP4166-7106P001">0</div>
                            <div class="stat-label">Total Quantity</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="total-orders-PP4166-7106P001">0</div>
                            <div class="stat-label">Future Orders</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="next-delivery-PP4166-7106P001">-</div>
                            <div class="stat-label">Next Delivery</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-title">📊 Delivery Schedule</div>
                        <div class="chart-wrapper" id="chart-PP4166-7106P001">
                            <div class="no-data-state">
                                <h3>📅 No Data Available</h3>
                                <p>Import EDI data to see delivery schedule for this product.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PP4166-7106P003 -->
                <div class="tab-content" id="tab-PP4166-7106P003">
                    <div class="product-header">
                        <h2>🔩 PP4166-7106P003</h2>
                        <p>ﾐﾄﾞﾙﾌﾚｰﾑ</p>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="total-quantity-PP4166-7106P003">0</div>
                            <div class="stat-label">Total Quantity</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="total-orders-PP4166-7106P003">0</div>
                            <div class="stat-label">Future Orders</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="next-delivery-PP4166-7106P003">-</div>
                            <div class="stat-label">Next Delivery</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-title">📊 Delivery Schedule</div>
                        <div class="chart-wrapper" id="chart-PP4166-7106P003">
                            <div class="no-data-state">
                                <h3>📅 No Data Available</h3>
                                <p>Import EDI data to see delivery schedule for this product.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Single consolidated JavaScript file -->
    <script src="/js/dashboard-app.js"></script>
</body>
</html>